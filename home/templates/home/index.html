{% extends 'base.html' %}
{% load static %}
{% block content %}
<header class="masthead bg-index eggshell-text text-center py-5">
  <div class="container d-flex align-items-center flex-column pt-5">

    <div class="eggshell-text mb-4">
      <h1 class="mb-2">Welcome to Jobify</h1>
      <p class="mb-0">Your Career Journey Starts Here</p>
    </div>

    <!-- Action Buttons Row -->
    <div class="mt-3 d-flex flex-wrap justify-content-center gap-3">

      {% if user.is_authenticated %}
      {% with role=user.profile.user_type|default_if_none:"user" %}

      {% if role == "recruiter" %}
      <!-- Recruiter CTA buttons -->
      <a href="{% url 'create_job' %}" class="btn btn-lg navy-bg eggshell-text">
        Post a Job
      </a>

      <a href="{% url 'recruiter_job_list' %}" class="btn btn-lg navy-bg eggshell-text">
        View My Listings
      </a>

      <a href="{% url 'recruiter_dashboard' %}" class="btn btn-lg navy-bg eggshell-text">
        Dashboard
      </a>

      {% else %}
      <!-- Job seeker CTA buttons -->
      <a href="{% url 'job_list' %}" class="btn btn-lg navy-bg eggshell-text">
        Find All Jobs
      </a>

      <a href="{% url 'job_map' %}" class="btn btn-lg navy-bg eggshell-text">
        Find Jobs Near Me
      </a>

      <a href="{% url 'user_dashboard' %}" class="btn btn-lg navy-bg eggshell-text">
        My Dashboard
      </a>
      {% endif %}

      {% endwith %}
      {% else %}
      <!-- Logged-out CTA buttons -->
      <a href="{% url 'job_list' %}" class="btn btn-lg navy-bg eggshell-text">
        Find All Jobs
      </a>

      <a href="{% url 'job_map' %}" class="btn btn-lg navy-bg eggshell-text">
        Find Jobs Near Me
      </a>

      <a href="{% url 'accounts.signup' %}" class="btn btn-lg navy-bg eggshell-text">
        Post a Job
      </a>
      {% endif %}

    </div>

  </div>
</header>

<style>
  /* make sure these exist somewhere global, but including here in case */
  .navy-bg {
    background-color: #1e3a8a;
    border-color: #1e3a8a;
    color: #fff;
  }

  .navy-bg:hover {
    background-color: #1e40af;
    border-color: #1e40af;
    color: #fff;
  }

  .eggshell-text {
    color: #f8f9fa;
  }
</style>


<div class="p-4">
  <div class="container">
    <div class="row mt-4">
      <div class="col mx-auto text-center mb-4">
        <div class="navy-bg eggshell-text p-4 rounded">
          <h3>Connect Talent with Opportunity</h3>
          <p class="mb-0">Discover your next career move or find the perfect candidate for your team</p>
        </div>
      </div>
    </div>

    <!-- Features Section -->
    <div class="row mt-5">
      <div class="col-12">
        <h2 class="text-center mb-5">Why Choose Jobify?</h2>
        <div class="row">
          <div class="col-md-4 mb-4">
            <div class="card h-100 job-card">
              <div class="card-body text-center p-4">
                <div class="navy-text mb-3">
                  <i class="fas fa-search fa-3x"></i>
                </div>
                <h4 class="card-title">Easy Job Search</h4>
                <p class="card-text">Find your dream job with our advanced search filters and personalized
                  recommendations.</p>
              </div>
            </div>
          </div>

          <div class="col-md-4 mb-4">
            <div class="card h-100 job-card">
              <div class="card-body text-center p-4">
                <div class="navy-text mb-3">
                  <i class="fas fa-users fa-3x"></i>
                </div>
                <h4 class="card-title">Quality Candidates</h4>
                <p class="card-text">Connect with pre-screened, qualified professionals ready to contribute to your
                  success.</p>
              </div>
            </div>
          </div>

          <div class="col-md-4 mb-4">
            <div class="card h-100 job-card">
              <div class="card-body text-center p-4">
                <div class="navy-text mb-3">
                  <i class="fas fa-rocket fa-3x"></i>
                </div>
                <h4 class="card-title">Fast Hiring</h4>
                <p class="card-text">Streamlined application process gets the right people in the right roles quickly.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Call to Action Section -->
    <div class="row mt-5">
      <div class="col-12">
        <div class="navy-bg eggshell-text p-5 rounded text-center">

          {% if user.is_authenticated %}
          {% if user.profile.user_type == "recruiter" %}
          <h3 class="mb-3">Ready to Hire Faster?</h3>
          <p class="mb-4">Manage your listings and track applicants in one place.</p>
          <div>
            <a href="{% url 'recruiter_dashboard' %}" class="btn btn-lg btn-outline-light me-3 mb-2">
              Go to Dashboard
            </a>
            <a href="{% url 'create_job' %}" class="btn btn-lg navy-bg eggshell-text mb-2">
              Post a Job
            </a>
          </div>

          {% else %}
          <h3 class="mb-3">Keep Your Search Moving</h3>
          <p class="mb-4">You’re already signed in — check messages and track your applications.</p>
          <div>
            <a href="{% url 'job_list' %}" class="btn btn-lg navy-bg eggshell-text me-3 mb-2">
              Browse Jobs
            </a>
            <a href="{% url 'user_dashboard' %}" class="btn btn-lg btn-outline-light mb-2">
              My Dashboard
            </a>
          </div>
          {% endif %}

          {% else %}
          <h3 class="mb-3">Ready to Get Started?</h3>
          <p class="mb-4">Join thousands of job seekers and employers who trust Jobify.</p>
          <div>
            <a href="{% url 'job_list' %}" class="btn btn-lg navy-bg eggshell-text me-3 mb-2">
              Browse Jobs
            </a>
            <a href="{% url 'accounts.signup' %}" class="btn btn-lg btn-outline-light mb-2">
              Create Account
            </a>
          </div>
          {% endif %}

        </div>
      </div>
    </div>

  </div>
</div>
{% endblock content %}